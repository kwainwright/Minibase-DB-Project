<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_13) on Sun Jul 27 05:37:28 EDT 2014 -->
<title>DiskMgr</title>
<meta name="date" content="2014-07-27">
<link rel="stylesheet" type="text/css" href="../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="DiskMgr";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-all.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../index.html?diskmgr/DiskMgr.html" target="_top">Frames</a></li>
<li><a href="DiskMgr.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">diskmgr</div>
<h2 title="Class DiskMgr" class="title">Class DiskMgr</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>diskmgr.DiskMgr</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../global/GlobalConst.html" title="interface in global">GlobalConst</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">DiskMgr</span>
extends java.lang.Object
implements <a href="../global/GlobalConst.html" title="interface in global">GlobalConst</a></pre>
<div class="block"><h3>Minibase Disk Manager</h3>
 The disk manager is the component of Minibase that takes care of the
 allocation and deallocation of pages within the database. It also performs
 reads and writes of pages to and from disk, providing a logical file layer.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static int</code></td>
<td class="colLast"><code><strong><a href="../diskmgr/DiskMgr.html#BITS_PER_PAGE">BITS_PER_PAGE</a></strong></code>
<div class="block">Number of actual bits per page.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected java.io.RandomAccessFile</code></td>
<td class="colLast"><code><strong><a href="../diskmgr/DiskMgr.html#fp">fp</a></strong></code>
<div class="block">Actual reference to the Minibase file.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../diskmgr/DiskMgr.html#name">name</a></strong></code>
<div class="block">Database file name.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><strong><a href="../diskmgr/DiskMgr.html#num_pages">num_pages</a></strong></code>
<div class="block">Database file size, in pages.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><strong><a href="../diskmgr/DiskMgr.html#read_cnt">read_cnt</a></strong></code>
<div class="block">Number of disk reads since construction.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><strong><a href="../diskmgr/DiskMgr.html#write_cnt">write_cnt</a></strong></code>
<div class="block">Number of disk writes since construction.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_global.GlobalConst">
<!--   -->
</a>
<h3>Fields inherited from interface&nbsp;global.<a href="../global/GlobalConst.html" title="interface in global">GlobalConst</a></h3>
<code><a href="../global/GlobalConst.html#EMPTY_SLOT">EMPTY_SLOT</a>, <a href="../global/GlobalConst.html#FIRST_PAGEID">FIRST_PAGEID</a>, <a href="../global/GlobalConst.html#INVALID_PAGEID">INVALID_PAGEID</a>, <a href="../global/GlobalConst.html#MAX_COLSIZE">MAX_COLSIZE</a>, <a href="../global/GlobalConst.html#MAX_TUPSIZE">MAX_TUPSIZE</a>, <a href="../global/GlobalConst.html#NAME_MAXLEN">NAME_MAXLEN</a>, <a href="../global/GlobalConst.html#PAGE_SIZE">PAGE_SIZE</a>, <a href="../global/GlobalConst.html#PIN_DISKIO">PIN_DISKIO</a>, <a href="../global/GlobalConst.html#PIN_MEMCPY">PIN_MEMCPY</a>, <a href="../global/GlobalConst.html#UNPIN_CLEAN">UNPIN_CLEAN</a>, <a href="../global/GlobalConst.html#UNPIN_DIRTY">UNPIN_DIRTY</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../diskmgr/DiskMgr.html#DiskMgr()">DiskMgr</a></strong>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../diskmgr/DiskMgr.html#add_file_entry(java.lang.String, global.PageId)">add_file_entry</a></strong>(java.lang.String&nbsp;fname,
              <a href="../global/PageId.html" title="class in global">PageId</a>&nbsp;start_pageno)</code>
<div class="block">Adds a file entry to the header page(s); each entry contains the name of
 the file and the PageId of the file's first page.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../global/PageId.html" title="class in global">PageId</a></code></td>
<td class="colLast"><code><strong><a href="../diskmgr/DiskMgr.html#allocate_page()">allocate_page</a></strong>()</code>
<div class="block">Allocates a single page (i.e.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../global/PageId.html" title="class in global">PageId</a></code></td>
<td class="colLast"><code><strong><a href="../diskmgr/DiskMgr.html#allocate_page(int)">allocate_page</a></strong>(int&nbsp;run_size)</code>
<div class="block">Allocates a set of pages on disk, given the run size.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../diskmgr/DiskMgr.html#closeDB()">closeDB</a></strong>()</code>
<div class="block">Closes the database file.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../diskmgr/DiskMgr.html#createDB(java.lang.String, int)">createDB</a></strong>(java.lang.String&nbsp;fname,
        int&nbsp;num_pgs)</code>
<div class="block">Creates and opens a new database with the given file name and specified
 number of pages.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../diskmgr/DiskMgr.html#deallocate_page(global.PageId)">deallocate_page</a></strong>(<a href="../global/PageId.html" title="class in global">PageId</a>&nbsp;pageno)</code>
<div class="block">Deallocates a single page (i.e.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../diskmgr/DiskMgr.html#deallocate_page(global.PageId, int)">deallocate_page</a></strong>(<a href="../global/PageId.html" title="class in global">PageId</a>&nbsp;firstid,
               int&nbsp;run_size)</code>
<div class="block">Deallocates a set of pages on disk, given the run size.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../diskmgr/DiskMgr.html#delete_file_entry(java.lang.String)">delete_file_entry</a></strong>(java.lang.String&nbsp;fname)</code>
<div class="block">Deletes a file entry from the header page(s).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../diskmgr/DiskMgr.html#destroyDB()">destroyDB</a></strong>()</code>
<div class="block">Destroys the database, removing the file that stores it.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../global/PageId.html" title="class in global">PageId</a></code></td>
<td class="colLast"><code><strong><a href="../diskmgr/DiskMgr.html#get_file_entry(java.lang.String)">get_file_entry</a></strong>(java.lang.String&nbsp;fname)</code>
<div class="block">Looks up the entry for the given file name.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../diskmgr/DiskMgr.html#getAllocCount()">getAllocCount</a></strong>()</code>
<div class="block">Gets the number of allocated disk pages.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../diskmgr/DiskMgr.html#getReadCount()">getReadCount</a></strong>()</code>
<div class="block">Gets the number of disk reads since construction.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../diskmgr/DiskMgr.html#getWriteCount()">getWriteCount</a></strong>()</code>
<div class="block">Gets the number of disk writes since construction.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../diskmgr/DiskMgr.html#openDB(java.lang.String)">openDB</a></strong>(java.lang.String&nbsp;fname)</code>
<div class="block">Open the database with the given file name.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../diskmgr/DiskMgr.html#print_space_map()">print_space_map</a></strong>()</code>
<div class="block">Print out the database's space map, a bitmap showing which pages are
 currently allocated.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../diskmgr/DiskMgr.html#read_page(global.PageId, global.Page)">read_page</a></strong>(<a href="../global/PageId.html" title="class in global">PageId</a>&nbsp;pageno,
         <a href="../global/Page.html" title="class in global">Page</a>&nbsp;page)</code>
<div class="block">Reads the contents of the specified page from disk.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../diskmgr/DiskMgr.html#set_bits(global.PageId, int, int)">set_bits</a></strong>(<a href="../global/PageId.html" title="class in global">PageId</a>&nbsp;start_page,
        int&nbsp;run_size,
        int&nbsp;bit)</code>
<div class="block">Sets 'run_size' bits in the space map to the given value, starting from
 'start_page'.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../diskmgr/DiskMgr.html#write_page(global.PageId, global.Page)">write_page</a></strong>(<a href="../global/PageId.html" title="class in global">PageId</a>&nbsp;pageno,
          <a href="../global/Page.html" title="class in global">Page</a>&nbsp;page)</code>
<div class="block">Writes the contents of the given page to disk.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="BITS_PER_PAGE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>BITS_PER_PAGE</h4>
<pre>protected static final&nbsp;int BITS_PER_PAGE</pre>
<div class="block">Number of actual bits per page.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../constant-values.html#diskmgr.DiskMgr.BITS_PER_PAGE">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="name">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>name</h4>
<pre>protected&nbsp;java.lang.String name</pre>
<div class="block">Database file name.</div>
</li>
</ul>
<a name="num_pages">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>num_pages</h4>
<pre>protected&nbsp;int num_pages</pre>
<div class="block">Database file size, in pages.</div>
</li>
</ul>
<a name="fp">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fp</h4>
<pre>protected&nbsp;java.io.RandomAccessFile fp</pre>
<div class="block">Actual reference to the Minibase file.</div>
</li>
</ul>
<a name="read_cnt">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>read_cnt</h4>
<pre>protected&nbsp;int read_cnt</pre>
<div class="block">Number of disk reads since construction.</div>
</li>
</ul>
<a name="write_cnt">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>write_cnt</h4>
<pre>protected&nbsp;int write_cnt</pre>
<div class="block">Number of disk writes since construction.</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="DiskMgr()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>DiskMgr</h4>
<pre>public&nbsp;DiskMgr()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getReadCount()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getReadCount</h4>
<pre>public&nbsp;int&nbsp;getReadCount()</pre>
<div class="block">Gets the number of disk reads since construction.</div>
</li>
</ul>
<a name="getWriteCount()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getWriteCount</h4>
<pre>public&nbsp;int&nbsp;getWriteCount()</pre>
<div class="block">Gets the number of disk writes since construction.</div>
</li>
</ul>
<a name="getAllocCount()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAllocCount</h4>
<pre>public&nbsp;int&nbsp;getAllocCount()</pre>
<div class="block">Gets the number of allocated disk pages.</div>
</li>
</ul>
<a name="createDB(java.lang.String, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createDB</h4>
<pre>public&nbsp;void&nbsp;createDB(java.lang.String&nbsp;fname,
            int&nbsp;num_pgs)</pre>
<div class="block">Creates and opens a new database with the given file name and specified
 number of pages.</div>
</li>
</ul>
<a name="openDB(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>openDB</h4>
<pre>public&nbsp;void&nbsp;openDB(java.lang.String&nbsp;fname)</pre>
<div class="block">Open the database with the given file name.</div>
</li>
</ul>
<a name="closeDB()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>closeDB</h4>
<pre>public&nbsp;void&nbsp;closeDB()</pre>
<div class="block">Closes the database file.</div>
</li>
</ul>
<a name="destroyDB()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>destroyDB</h4>
<pre>public&nbsp;void&nbsp;destroyDB()</pre>
<div class="block">Destroys the database, removing the file that stores it.</div>
</li>
</ul>
<a name="allocate_page()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>allocate_page</h4>
<pre>public&nbsp;<a href="../global/PageId.html" title="class in global">PageId</a>&nbsp;allocate_page()</pre>
<div class="block">Allocates a single page (i.e. run size 1) on disk.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The new page's id</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.IllegalStateException</code> - if the database is full</dd></dl>
</li>
</ul>
<a name="allocate_page(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>allocate_page</h4>
<pre>public&nbsp;<a href="../global/PageId.html" title="class in global">PageId</a>&nbsp;allocate_page(int&nbsp;run_size)</pre>
<div class="block">Allocates a set of pages on disk, given the run size.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The new page's id</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.IllegalArgumentException</code> - if run_size is invalid</dd>
<dd><code>java.lang.IllegalStateException</code> - if the database is full</dd></dl>
</li>
</ul>
<a name="deallocate_page(global.PageId)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deallocate_page</h4>
<pre>public&nbsp;void&nbsp;deallocate_page(<a href="../global/PageId.html" title="class in global">PageId</a>&nbsp;pageno)</pre>
<div class="block">Deallocates a single page (i.e. run size 1) on disk.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>pageno</code> - identifies the page to deallocate</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.IllegalArgumentException</code> - if firstid is invalid</dd></dl>
</li>
</ul>
<a name="deallocate_page(global.PageId, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deallocate_page</h4>
<pre>public&nbsp;void&nbsp;deallocate_page(<a href="../global/PageId.html" title="class in global">PageId</a>&nbsp;firstid,
                   int&nbsp;run_size)</pre>
<div class="block">Deallocates a set of pages on disk, given the run size.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>firstid</code> - identifies the first page to deallocate</dd><dd><code>run_size</code> - number of pages to deallocate</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.IllegalArgumentException</code> - if firstid or run_size is invalid</dd></dl>
</li>
</ul>
<a name="read_page(global.PageId, global.Page)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>read_page</h4>
<pre>public&nbsp;void&nbsp;read_page(<a href="../global/PageId.html" title="class in global">PageId</a>&nbsp;pageno,
             <a href="../global/Page.html" title="class in global">Page</a>&nbsp;page)</pre>
<div class="block">Reads the contents of the specified page from disk.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>pageno</code> - identifies the page to read</dd><dd><code>page</code> - output param to hold the contents of the page</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.IllegalArgumentException</code> - if pageno is invalid</dd></dl>
</li>
</ul>
<a name="write_page(global.PageId, global.Page)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>write_page</h4>
<pre>public&nbsp;void&nbsp;write_page(<a href="../global/PageId.html" title="class in global">PageId</a>&nbsp;pageno,
              <a href="../global/Page.html" title="class in global">Page</a>&nbsp;page)</pre>
<div class="block">Writes the contents of the given page to disk.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>pageno</code> - identifies the page to write</dd><dd><code>page</code> - holds the contents of the page</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.IllegalArgumentException</code> - if pageno is invalid</dd></dl>
</li>
</ul>
<a name="add_file_entry(java.lang.String, global.PageId)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>add_file_entry</h4>
<pre>public&nbsp;void&nbsp;add_file_entry(java.lang.String&nbsp;fname,
                  <a href="../global/PageId.html" title="class in global">PageId</a>&nbsp;start_pageno)</pre>
<div class="block">Adds a file entry to the header page(s); each entry contains the name of
 the file and the PageId of the file's first page.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.IllegalArgumentException</code> - if fname or start_pageno is invalid</dd></dl>
</li>
</ul>
<a name="delete_file_entry(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>delete_file_entry</h4>
<pre>public&nbsp;void&nbsp;delete_file_entry(java.lang.String&nbsp;fname)</pre>
<div class="block">Deletes a file entry from the header page(s).</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.IllegalArgumentException</code> - if fname is invalid</dd></dl>
</li>
</ul>
<a name="get_file_entry(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>get_file_entry</h4>
<pre>public&nbsp;<a href="../global/PageId.html" title="class in global">PageId</a>&nbsp;get_file_entry(java.lang.String&nbsp;fname)</pre>
<div class="block">Looks up the entry for the given file name.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>PageId of the file's first page, or null if the file doesn't exist</dd></dl>
</li>
</ul>
<a name="print_space_map()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>print_space_map</h4>
<pre>public&nbsp;void&nbsp;print_space_map()</pre>
<div class="block">Print out the database's space map, a bitmap showing which pages are
 currently allocated.</div>
</li>
</ul>
<a name="set_bits(global.PageId, int, int)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>set_bits</h4>
<pre>protected&nbsp;void&nbsp;set_bits(<a href="../global/PageId.html" title="class in global">PageId</a>&nbsp;start_page,
            int&nbsp;run_size,
            int&nbsp;bit)</pre>
<div class="block">Sets 'run_size' bits in the space map to the given value, starting from
 'start_page'.</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-all.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../index.html?diskmgr/DiskMgr.html" target="_top">Frames</a></li>
<li><a href="DiskMgr.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
